definition

module org/sugarj/languages/SugarProlog
imports org/sugarj/languages/Prolog 
        org/sugarj/languages/Sdf2
        org/sugarj/languages/Stratego
        org/sugarj/languages/EditorServices
        org/sugarj/languages/Sugar

exports
  lexical syntax
    PrologLayoutText          -> LAYOUT


  context-free syntax
    SugarModuleDec PrologModuleImport* SugarBody   -> SugarCompilationUnit {cons("CompilationUnit")}     
    PrologProgram                                -> SugarCompilationUnit {cons("CompilationUnit")}

  context-free syntax
    ":-" "sugar_module(" PrologWord ")" "."             -> SugarModuleDec   {cons("SugarModuleDec")}         %% used like module(...)
   lexical syntax
    "sugar_module"  -> PrologWord {reject}

  lexical restrictions
    "sugar" -/- [a-zA-Z0-9\'\-\_]

  context-free syntax
    ":-" SugarDefElem+ "."   -> SugarBody       {cons("SugarBody")}

  context-free syntax %% ToplevelDeclaration
    PrologModuleDec -> ToplevelDeclaration
    PrologModuleImport -> ToplevelDeclaration
    PrologModuleReexport -> ToplevelDeclaration       %% needed?
    PrologSentence -> ToplevelDeclaration
    SugarModuleDec -> ToplevelDeclaration
    SugarBody   -> ToplevelDeclaration
  
  